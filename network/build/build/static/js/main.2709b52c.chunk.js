(this.webpackJsonpnetworkreact=this.webpackJsonpnetworkreact||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(23),s=n.n(r),i=(n(54),n.p,n(55),n(56),n(11)),o=n(26),u=n(47),l=n(48),j=n(5),d="REGISTER_SUCCESS",p="REGISTER_FAIL",b="LOGIN_SUCCESS",O="LOGIN_FAIL",f="LOGOUT_SUCCESS",h="LOGOUT_FAIL",m="AUTHENTICATE_SUCCESS",x="AUTHENTICATE_FAIL",v="USER_SUCCESS",g="USER_FAIL",_="POST_SUCCESS",k="POST_FAIL",w="UPDATE_FAIL",y="UNLIKE_SUCCESS",N="LIKE_SUCCESS",S="LIKE_FAIL",C="FOLLOW_SUCCESS",A="UNFOLLOW_SUCCESS",E="FOLLOW_FAIL",F={isAuthenticated:null},L={isAuthenticated:null,username:"",email:"",likes:"",post:"",follows:""},P=Object(o.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m:case x:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:a});case d:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1});case b:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0});case f:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1});case p:case O:case h:default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v:return Object(j.a)(Object(j.a)({},e),{},{id:a.id,username:a.username,email:a.email,likes:a.likes,follows:a.follows});case g:return Object(j.a)(Object(j.a)({},e),{},{id:"",username:"",email:"",likes:"",follows:""});case N:return Object(j.a)(Object(j.a)({},e),{},{likes:e.likes.concat(a)});case y:return Object(j.a)(Object(j.a)({},e),{},{likes:e.likes.filter((function(e){return e!==a}))});case _:return Object(j.a)(Object(j.a)({},e),{},{post:a});case C:return Object(j.a)(Object(j.a)({},e),{},{follows:e.follows.concat(a)});case A:return Object(j.a)(Object(j.a)({},e),{},{follows:e.follows.filter((function(e){return e!==a}))});case E:case k:case S:default:return e}}}),T=[l.a],U=Object(o.createStore)(P,{},Object(u.composeWithDevTools)(o.applyMiddleware.apply(void 0,T))),I=n(14),R=n(9),J=n(18),q=n(4),D=n(13),X=n.n(D),G=n(32),K=n(2),W=n.n(K),H=n(8),B=n(10),M=n.n(B),z=n(0),Q=function(){var e=Object(a.useState)(""),t=Object(q.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(e){var t=null;if(document.cookie&&""!==document.cookie){var n=document.cookie.split(";");console.log(n);for(var a=0;a<n.length;a++){var c=n[a].trim();if(console.log(c.substring(0,e.length+1)),c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}}else console.log("error with document.cookie");return console.log(t),t};(function(){var e=Object(H.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat("http://127.0.0.1:8000","/network/csrf_cookie"));case 3:console.log("successfully fetched csrf"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("an error occured fetching csrf");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()(),c(e("csrftoken")),console.log(e("csrftoken")),console.log(n)}),[]),Object(z.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:n})};var V=Object(i.b)(null,{create:function(e){return function(){var t=Object(H.a)(W.a.mark((function t(n){var a,c,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":X.a.get("csrftoken")}},c=JSON.stringify({content:e}),t.prev=2,t.next=5,M.a.post("".concat("http://127.0.0.1:8000","/network/create"),c,a);case 5:(r=t.sent).data.error?(console.error(r.data.error),n({type:k})):n({type:_,payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:k});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.create,n=e.updatePost,c=Object(a.useState)({content:""}),r=Object(q.a)(c,2),s=r[0],i=r[1],o=s.content,u=function(e){o.length>0&&(t(o),i({content:""}),n())};return Object(z.jsx)("div",{className:"compose_container",children:Object(z.jsxs)("div",{className:"compose_section",children:[Object(z.jsx)("div",{className:"profile",children:Object(z.jsxs)("div",{className:"image_circle",children:[Object(z.jsx)("div",{className:"inner_image"}),Object(z.jsx)("div",{className:"inner_image2"})]})}),Object(z.jsxs)("form",{className:"flex_compose",children:[Object(z.jsx)(Q,{}),Object(z.jsx)(G.a,{maxRows:4,onKeyPress:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),u())}(e)},type:"text",onChange:function(e){return function(e){i(Object(j.a)(Object(j.a)({},s),{},Object(J.a)({},e.target.name,e.target.value)))}(e)},name:"content",className:"compose_in",value:o,placeholder:"What's on your mind?",required:!0})]})]})})})),Y=n(25),Z=n(19),$=n(20);var ee=Object(i.b)((function(e){return{sessionUser:e.user,sessionLikes:e.user.liking,isAuthenticated:e.auth.isAuthenticated}}),{update:function(e,t){return function(){var n=Object(H.a)(W.a.mark((function n(a){var c,r,s,i;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":X.a.get("csrftoken")}},r=JSON.stringify({content:e}),s=t,n.prev=3,n.next=6,M.a.put("".concat("http://127.0.0.1:8000","/network/create/").concat(s),r,c);case 6:(i=n.sent).data.error?(console.error(i.data.error),a({type:w})):a({type:"UPDATE_SUCCESS"}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),a({type:w});case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}()},like:function(e){return function(){var t=Object(H.a)(W.a.mark((function t(n){var a,c,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":X.a.get("csrftoken")}},c=JSON.stringify({withCredentials:!0}),t.prev=2,t.next=5,M.a.put("".concat("http://127.0.0.1:8000","/network/like/").concat(e),c,a);case 5:"liked"===(r=t.sent).data.isLiked?(console.error(r.data.isLiked),n({type:N,payload:e})):"unliked"===r.data.isLiked?n({type:y,payload:e}):n({type:S}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:S});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.body,n=e.id,c=e.username,r=e.likes,s=e.timestamp,i=e.sessionUser,o=(e.sessionLikes,e.update),u=e.isAuthenticated,l=e.like,d=Object(a.useState)(!1),p=Object(q.a)(d,2),b=p[0],O=p[1],f=Object(a.useState)(!1),h=Object(q.a)(f,2),m=h[0],x=h[1],v=Object(a.useState)(!1),g=Object(q.a)(v,2),_=g[0],k=g[1],w=Object(a.useState)(t),y=Object(q.a)(w,2),N=y[0],S=y[1],C=Object(a.useState)({content:t}),A=Object(q.a)(C,2),E=A[0],F=A[1];Object(a.useEffect)((function(){void 0!==i.likes&&x(i.likes.includes(n))}),[]);var L=E.content,P=function(e){L.length>0&&(console.log(E),o(L,n),S(L),k(!_))},T=function(e){O(!b),l(n)},U=Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("form",{className:"flex_compose",children:Object(z.jsx)(G.a,{maxRows:4,onKeyPress:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),P())}(e)},type:"text",onChange:function(e){return function(e){return F(Object(j.a)(Object(j.a)({},E),{},Object(J.a)({},e.target.name,e.target.value)))}(e)},name:"content",className:"compose_in",value:L,placeholder:"What's on your mind?",required:!0})})}),R=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("span",{children:Object(z.jsx)(Z.a,{className:"like_auth ".concat(b?"":"like_auth_active"),onClick:function(e){return T()},icon:$.b,color:"grey"})}),Object(z.jsx)("span",{className:"likes_space",children:b?r-1:r})]}),D=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("span",{children:Object(z.jsx)(Z.a,{className:"like_auth ".concat(b&&"like_auth_active"),onClick:function(e){return T()},icon:$.b,color:"grey"})}),Object(z.jsx)("span",{className:"likes_space",children:b?r+1:r})]}),X=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("span",{children:Object(z.jsx)(Z.a,{icon:$.b,color:"grey"})}),Object(z.jsx)("span",{className:"likes_space",children:r})]});return Object(z.jsxs)("div",{className:"post_container",children:[Object(z.jsxs)("div",{className:"profile_section",children:[Object(z.jsxs)("div",{className:"image_circle",children:[Object(z.jsx)("div",{className:"inner_image"}),Object(z.jsx)("div",{className:"inner_image2"})]}),Object(z.jsxs)("div",{className:"header_post",children:[Object(z.jsxs)("div",{className:"post_name_date",children:[Object(z.jsx)(I.b,{exact:!0,to:"/profile/".concat(c),className:"username_post",children:c}),Object(z.jsx)("div",{className:"date_post",children:s})]}),Object(z.jsx)("div",{className:"edit_container_custom",children:i.username===c&&Object(z.jsxs)("button",{className:"edit_button_custom",onClick:function(e){return k(!_),void F({content:t})},value:"edit",children:[" ",_?"X":"Edit"]})})]})]}),Object(z.jsx)("div",{className:"break"}),Object(z.jsxs)("div",{className:"body_section",children:[_?U:Object(z.jsx)("span",{className:"body_content",children:N}),Object(z.jsx)("div",{className:"like_container",children:u?m?R:D:X})]})]})}));var te=function(){return Object(z.jsxs)("div",{className:"load",children:[Object(z.jsx)("p",{children:" loading "}),Object(z.jsx)(Z.a,{className:"load_spin",icon:$.c})]})};var ne=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.user,newPost:e.user.post}}),null)((function(e){e.isAuthenticated,e.user,e.updatePost;var t=e.loaded,n=(e.setPosts,e.posts),a=(e.newPost,e.hasNext),c=e.hasPrev,r=e.setPageLoad,s=e.page,i=e.maxPage,o=n.map((function(e,t){return Object(z.jsx)(ee,{body:e.content,username:e.creator,likes:e.likes,timestamp:e.timestamp,id:e.id},t)})),u=Object(z.jsx)("div",{className:"pagination_location",children:Object(z.jsxs)(Y.a,{children:[1!=s&&Object(z.jsx)(Y.a.First,{onClick:function(){return r(1)}}),c&&Object(z.jsx)(Y.a.Prev,{onClick:function(){return r(s-1)}}),Object(z.jsx)(Y.a.Item,{active:!0,children:s}),a&&Object(z.jsx)(Y.a.Next,{onClick:function(){return r(s+1)}}),s!=i&&Object(z.jsx)(Y.a.Last,{onClick:function(){return r(i)}})]})});return Object(z.jsx)("div",{children:Object(z.jsxs)("div",{className:"postBox_container",children:[t?o:Object(z.jsx)(te,{}),u]})})}));var ae=function(e){return e.open,Object(z.jsxs)("div",{className:"notify_box",children:[Object(z.jsx)("div",{className:"notification_item",children:Object(z.jsx)("p",{children:"notification"})}),Object(z.jsx)("div",{className:"notification_item",children:Object(z.jsx)("p",{children:"notification"})}),Object(z.jsx)("div",{className:"notification_item",children:Object(z.jsx)("p",{children:"notification"})}),Object(z.jsx)("div",{className:"notification_item",children:Object(z.jsx)("p",{children:"notification"})})]})},ce=n(86);var re=function(e){e.children;var t=Object(a.useState)(!1),n=Object(q.a)(t,2),r=n[0],s=n[1],i=c.a.useRef(null);return Object(z.jsxs)("div",{onClick:function(){return s(!r)},children:[Object(z.jsx)("div",{className:"bell",children:Object(z.jsx)(Z.a,{icon:$.a})}),Object(z.jsx)(ce.a,{in:r,nodeRef:i,classNames:"menu-primary",timeout:1e3,unmountOnExit:!0,children:Object(z.jsx)("div",{ref:i,children:Object(z.jsx)(ae,{})})})]})},se=function(e){return function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}},e.prev=1,e.next=4,M.a.get("".concat("http://127.0.0.1:8000","/network/user"),n);case 4:(a=e.sent).data.error?(console.error(a.data.error),t({type:g})):t({type:v,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:g});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};var ie=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFTOKEN":X.a.get("csrftoken")}},a=JSON.stringify({withCredentials:!0}),e.prev=2,e.next=5,M.a.post("".concat("http://127.0.0.1:8000","/network/logout"),a,n);case 5:(c=e.sent).data.error?(console.log(c.data.error),t({type:h})):t({type:f}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:h});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){e.login;var t=e.logout,n=(e.follow,e.isAuthenticated),a=Object(z.jsxs)("div",{className:"navbar_wrapper",children:[Object(z.jsx)(I.b,{exact:!0,to:"/",children:"Home"}),Object(z.jsx)(I.c,{exact:!0,to:"/follow",children:"Follow"}),Object(z.jsx)(I.c,{exact:!0,to:"/logout",onClick:t,children:"Log Out"}),Object(z.jsx)(re,{children:Object(z.jsx)(ae,{})})]}),c=Object(z.jsxs)("div",{className:"navbar_wrapper",children:[Object(z.jsx)(I.b,{exact:!0,to:"/",children:"Home"}),Object(z.jsx)(I.c,{exact:!0,to:"/login",children:"Log In"}),Object(z.jsx)(I.c,{exact:!0,to:"/register",children:"Register"}),Object(z.jsx)(re,{children:Object(z.jsx)(ae,{})})]});return Object(z.jsx)("div",{className:"navbar_container",children:n?a:c})}));var oe=function(){return Object(z.jsx)("div",{className:"footer",children:Object(z.jsx)("span",{children:"Footer"})})},ue=n(21);var le=Object(i.b)((function(e){return{sessionUser:e.user,isAuthenticated:e.auth.isAuthenticated}}),{follow:function(e){return function(){var t=Object(H.a)(W.a.mark((function t(n){var a,c,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":X.a.get("csrftoken")}},c=JSON.stringify({withCredentials:!0}),t.prev=2,t.next=5,M.a.put("".concat("http://127.0.0.1:8000","/network/follow/").concat(e),c,a);case 5:"follow"===(r=t.sent).data.follow?(console.error(r.data.isLiked),n({type:C,payload:e})):"unfollow"===r.data.follow?n({type:A,payload:e}):n({type:E}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:E});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.sessionUser,n=e.isAuthenticated,c=e.username,r=e.following,s=(e.followers,e.follow,e.id),i=Object(a.useState)(!1),o=Object(q.a)(i,2),u=(o[0],o[1]),l=Object(a.useState)(!1),j=Object(q.a)(l,2),d=j[0],p=j[1],b=Object(a.useState)(!1),O=Object(q.a)(b,2),f=O[0],h=O[1];Object(a.useEffect)((function(){void 0!==t.follows&&(p(t.follows.includes(s)),d&&u(!0)),h(!0)}),[]),z.Fragment,z.Fragment,z.Fragment,ue.a,z.Fragment,ue.a,z.Fragment,ue.a,z.Fragment,ue.a,z.Fragment,z.Fragment;var m=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"profile_container",children:[Object(z.jsxs)("div",{className:"profile_header",children:[Object(z.jsx)("div",{className:"profile_image_container",children:Object(z.jsx)("div",{className:"profile_image",children:Object(z.jsxs)("div",{className:"image_circle",children:[Object(z.jsx)("div",{className:"inner_image"}),Object(z.jsx)("div",{className:"inner_image2"})]})})}),Object(z.jsxs)("div",{className:"profile_content",children:[Object(z.jsx)("div",{className:"profile_username",children:Object(z.jsx)("p",{children:c})}),Object(z.jsx)("div",{className:"follower_following",children:Object(z.jsxs)("p",{children:["Following: ",Object(z.jsxs)("p",{children:[" ",r]})]})})]})]}),n&&t.id!==s&&Object(z.jsx)("div",{className:"follow_button_container"})]}),Object(z.jsx)("div",{className:"break_out"})]});return Object(z.jsx)(z.Fragment,{children:f&&m})})),je=Object(i.b)(null,{checkAuthenticated:function(){return function(){var e=Object(H.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={credentials:"include",mode:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}},e.prev=1,e.next=4,M.a.get("".concat("http://127.0.0.1:8000","/network/authenticated"),n);case 4:(a=e.sent).data.error||"error"===a.data.isAuthenticated?t({type:x,payload:!1}):"success"===a.data.isAuthenticated&&t({type:m,payload:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:x,payload:!1});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},get_user:se})((function(e){var t=e.children,n=e.get_user,c=e.checkAuthenticated,r=Object(a.useState)(!1),s=Object(q.a)(r,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){c(),n(),o(!0)}),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ie,{}),Object(z.jsx)("header",{className:"App-header",children:i?t:Object(z.jsx)(te,{})})]})})),de=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),null)((function(e){var t=e.isAuthenticated,n=Object(a.useState)(!1),c=Object(q.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),o=Object(q.a)(i,2),u=o[0],l=o[1],j=Object(a.useState)(1),d=Object(q.a)(j,2),p=d[0],b=d[1],O=Object(a.useState)(1),f=Object(q.a)(O,2),h=f[0],m=f[1],x=Object(a.useState)(!1),v=Object(q.a)(x,2),g=v[0],_=v[1],k=Object(a.useState)(!1),w=Object(q.a)(k,2),y=w[0],N=w[1],S=function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat("http://127.0.0.1:8000","/network/posts/").concat(t));case 3:n=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:n=e.sent,l(n.data.posts),m(n.data.max),b(n.data.page),N(n.data.previous),_(n.data.next),m(n.data.max);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C(1),s(!0)}),[]),Object(a.useEffect)((function(){s(!0),console.log(u),console.log(p),console.log(y),console.log(g)}),[u]);var A=function(){var e=Object(H.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!1),b(p-1),C(1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(H.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!1),C(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(V,{updatePost:A}),Object(z.jsx)("div",{className:"break_out"})]});return Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"compose_home_container",children:t&&F}),Object(z.jsx)("div",{className:"postbox_home_container",children:r?Object(z.jsx)(ne,{maxPage:h,hasNext:g,hasPrev:y,page:p,setPageLoad:E,getPosts:C,updatePost:A,setPosts:l,posts:u,loaded:r}):Object(z.jsx)(te,{})})]})})),pe=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var n=Object(H.a)(W.a.mark((function n(a){var c,r,s;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":X.a.get("csrftoken")}},r=JSON.stringify({username:e,password:t}),n.prev=2,n.next=5,M.a.post("".concat("http://127.0.0.1:8000","/network/login"),r,c);case 5:(s=n.sent).data.error?(console.log(s.data.error),a({type:O})):(a({type:b}),a(se())),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a({type:O});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}})((function e(t){var n=t.login,c=t.isAuthenticated,r=Object(a.useState)({username:"",password:""}),s=Object(q.a)(r,2),i=s[0],o=s[1],u=i.username,l=i.password,d=function(e){return o(Object(j.a)(Object(j.a)({},i),{},Object(J.a)({},e.target.name,e.target.value)))};return c?Object(z.jsx)(R.a,{to:"/"}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{children:"Log Into your Account."}),Object(z.jsx)("div",{className:"form_container",children:Object(z.jsxs)("form",{className:"form_wrapper",onSubmit:function(t){return function(t){console.log(e),t.preventDefault(),n(u,l)}(t)},children:[Object(z.jsx)(Q,{}),Object(z.jsxs)("div",{className:"input_field",children:[Object(z.jsx)("label",{children:"Username"}),Object(z.jsx)("input",{type:"text",onChange:function(e){return d(e)},name:"username",className:"registration_input",value:u,placeholder:"Enter Username",required:!0})]}),Object(z.jsxs)("div",{className:"input_field",children:[Object(z.jsx)("label",{children:"Password"}),Object(z.jsx)("input",{type:"password",onChange:function(e){return d(e)},name:"password",className:"registration_input",value:l,placeholder:"Enter Password",required:!0})]}),Object(z.jsx)("input",{type:"submit",className:"submit_button",value:"Log in"})]})})]})})),be=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e,t,n,a){return function(){var c=Object(H.a)(W.a.mark((function c(r){var s,i,o;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":X.a.get("csrftoken")}},i=JSON.stringify({username:e,password:t,confirmation:a,email:n}),c.prev=2,c.next=5,M.a.post("".concat("http://127.0.0.1:8000","/network/register"),i,s);case 5:(o=c.sent).data.error?(console.error(o.data.error),r({type:p})):r({type:d}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(2),r({type:p});case 12:case"end":return c.stop()}}),c,null,[[2,9]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.register,n=e.isAuthenticated,c=Object(a.useState)({username:"",email:"",password:"",confirmation:""}),r=Object(q.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),u=Object(q.a)(o,2),l=u[0],d=u[1],p=s.username,b=s.email,O=s.password,f=s.confirmation,h=function(e){return i(Object(j.a)(Object(j.a)({},s),{},Object(J.a)({},e.target.name,e.target.value)))};return l?Object(z.jsx)(R.a,{to:"/login"}):n?Object(z.jsx)(R.a,{to:"/"}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{children:"Register for an Account."}),Object(z.jsx)("div",{className:"form_container",children:Object(z.jsxs)("form",{className:"form_wrapper",onSubmit:function(e){return function(e){console.log(s),e.preventDefault(),O===f&&(t(p,O,b,f),d(!0))}(e)},children:[Object(z.jsx)(Q,{}),Object(z.jsxs)("div",{className:"input_field",children:[Object(z.jsx)("label",{children:"Username"}),Object(z.jsx)("input",{type:"text",onChange:function(e){return h(e)},name:"username",className:"registration_input",value:p,placeholder:"Enter Username",required:!0})]}),Object(z.jsxs)("div",{className:"input_field",children:[Object(z.jsx)("label",{children:"Email"}),Object(z.jsx)("input",{type:"email",onChange:function(e){return h(e)},name:"email",className:"registration_input",value:b,placeholder:"Enter email address",required:!0})]}),Object(z.jsxs)("div",{className:"input_field",children:[Object(z.jsx)("label",{children:"Password:"}),Object(z.jsx)("input",{type:"password",onChange:function(e){return h(e)},name:"password",className:"registration_input",value:O,required:!0})]}),Object(z.jsxs)("div",{className:"input_field",children:[Object(z.jsx)("label",{children:"Re-enter password:"}),Object(z.jsx)("input",{type:"password",onChange:function(e){return h(e)},name:"confirmation",className:"registration_input",value:f,required:!0})]}),Object(z.jsx)("input",{type:"submit",className:"submit_button",value:"register"})]})})]})})),Oe=function(){var e=Object(a.useState)({username:"",followers:"",following:"",id:""}),t=Object(q.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(q.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(!1),l=Object(q.a)(u,2),j=l[0],d=l[1],p=Object(a.useState)([]),b=Object(q.a)(p,2),O=b[0],f=b[1],h=Object(a.useState)(1),m=Object(q.a)(h,2),x=m[0],v=m[1],g=Object(a.useState)(1),_=Object(q.a)(g,2),k=_[0],w=_[1],y=Object(a.useState)(!1),N=Object(q.a)(y,2),S=N[0],C=N[1],A=Object(a.useState)(!1),E=Object(q.a)(A,2),F=E[0],L=E[1],P=Object(R.f)(),T=function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat("http://127.0.0.1:8000","/network/profile/").concat(P.id,"/").concat(t));case 3:n=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent,c(n.data),f(n.data.user_posts.posts),w(n.data.user_posts.max),v(n.data.user_posts.page),L(n.data.user_posts.previous),C(n.data.user_posts.next),w(n.data.user_posts.max);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent,f(n.data.user_posts.posts),w(n.data.user_posts.max),v(n.data.user_posts.page),L(n.data.user_posts.previous),C(n.data.user_posts.next),w(n.data.user_posts.max);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(n),d(!0)}),[n]),Object(a.useEffect)((function(){console.log(O),o(!0)}),[O]),Object(a.useEffect)((function(){U(1)}),[]);var J=function(){var e=Object(H.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!1),v(x-1),I(1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(H.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!1),I(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{children:j?Object(z.jsx)(le,{username:n.username,followers:n.followers,following:n.following,id:n.id}):Object(z.jsx)(te,{})}),Object(z.jsx)("div",{className:"center",children:Object(z.jsx)("div",{className:"postbox_home_container",children:i?Object(z.jsx)(ne,{maxPage:k,hasNext:S,hasPrev:F,page:x,setPageLoad:D,getPosts:I,updatePost:J,setPosts:f,posts:O,loaded:i}):Object(z.jsx)(te,{})})})]})};var fe=function(){return Object(z.jsx)(i.a,{store:U,children:Object(z.jsxs)("div",{className:"App",children:[Object(z.jsx)(I.a,{children:Object(z.jsxs)(je,{children:[Object(z.jsx)(R.b,{exact:!0,path:"/",component:de}),Object(z.jsx)(R.b,{exact:!0,path:"/register",component:be}),Object(z.jsx)(R.b,{exact:!0,path:"/login",component:pe}),Object(z.jsx)(R.b,{exact:!0,path:"/profile/:id",component:Oe})]})}),Object(z.jsx)(oe,{})]})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(fe,{})}),document.getElementById("root")),he()}},[[84,1,2]]]);
//# sourceMappingURL=main.2709b52c.chunk.js.map